<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styling.css">
    <title>Overzicht van medewerkers/trainees</title>

</head>
<header class="main-header">
    <div class="header-section-1">
        <a href="http://wwww.qien.nl">
            <img src="https://www.qien.nl/wp-content/uploads/2017/10/logo.svg" class="qien-logo" alt="Qien">
        </a>
        <nav class="main-nav-list">
            <!-- list of options or breadcrumbs -->
        </nav>
    </div>
    <div class="header-section-2">
    </div>
    <div class="header-section-3">
        <a href="inlogscherm.html">
            <img src="image/profilepic.png" class="profile-pic" alt="profile">
        </a>
    </div>
</header>

<script>
    // alle medewerkers zien
    function alleGebruikers() {
        var employeeString = "";
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (this.readyState == 4) {
                var databaseContents = JSON.parse(this.responseText);

                var x;

                for (x = 0; x < databaseContents.length; x++) {

                    employeeString +=
                        `
                    <div>
                    <h2>${databaseContents[x].naam}</h2><br>
                    <p><b>Adres:</b> ${databaseContents[x].adres}</p>
                    <p><b>Toev.:</b> ${databaseContents[x].evtToevoeging}</p>
                    <p><b>Woonplaats:</b> ${databaseContents[x].woonplaats}</p>
                    <p><b>Postcode:</b> ${databaseContents[x].postcode}</p>
                    <p><b>Geboortedatum:</b> ${databaseContents[x].geboorteDatum}</p>
                    <p><b>Telefoonnummer:</b> ${databaseContents[x].telefoonNummer}</p>
                    <p><b>E-mailadres:</b> ${databaseContents[x].emailadres}</p>
                    <p><b>Rol:</b> ${databaseContents[x].rol}</p><br>
                    <hr>
                    </div>
                    `
                }
            }

            document.getElementById("showGebruikers").innerHTML = employeeString;
        }
        var typ = document.getElementById("filter").value;
        if (typ == "all") {
            xhr.open("GET", "http://localhost:8082/api/admin/all-users", true)
        } else {
            xhr.open("GET", "http://localhost:8082/api/gebruiker/rol/trainee", true)
        }
        xhr.send();
    }
</script>

<body onload=alleGebruikers()>
    <div id="sidebar-left">
        <div class="left-container">
            <button onclick="window.location.href='gebruikernieuw.html'">Nieuwe Gebruiker</button>
            <button onclick="window.location.href='gebruikerprofiel.html'">Profiel Medewerker</button>
            <button onclick="window.location.href='gebruikeraanpassen.html'">Gebruiker aanpassen</button>
            <button onclick="window.location.href='gebruikerrolveranderen.html'">Gebruiker rol aanpassen</button>
        </div>
    </div>
    <section>
        <div id="main">
            <div class="container">
                <p><i><a href="https://www.qien.nl/">Qien </a>>>
                        <a href="inlogscherm.html">Log in </a>>>
                        <a href="admin.html">Admin overzicht </a>>>
                        Overzicht gebruikers</i></p>
                <h1>Overzicht Gebruikers</h1>
                <form name="type-form">
                    <select name="filter-soort" onclick=alleGebruikers() id="filter">
                        <option value="all">--filter--</option>
                        <option value="medewerker">medewerker</option>
                        <option value="trainee">trainee</option>
                    </select>
                </form>
                <br>
                <div class="dashboard">
                    <div id="showGebruikers"></div>
                </div>
            </div>
        </div>
    </section>
</body>
<footer>
    <div class="container">
        <small>Â© 2020 Team1 - Het beste Team </small> <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
            title="Contact">Contact
            Qien</a>
    </div>
</footer>

</html>