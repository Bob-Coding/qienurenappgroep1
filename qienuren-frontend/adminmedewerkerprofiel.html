<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styling.css">
    <title>Document</title>

</head>
<header class="main-header">
    <div class="header-section-1">
        <a ref="http://wwww.qien.nl">
            <img src="https://www.qien.nl/wp-content/uploads/2017/10/logo.svg" class="qien-logo" alt="Qien">
        </a>
        <nav class="main-nav-list">
            <!-- list of options or breadcrumbs -->
        </nav>
    </div>
    <div class="header-section-2">
    </div>
    <div class="header-section-3">
        <a href="inlogscherm.html">
            <img src="image/logout.png" class="log-uit" alt="loguit">
        </a>
    </div>
</header>
<script>
    function getEmployee() {
        var jojo = new XMLHttpRequest();
        var id = document.getElementById("empID").value;
        jojo.onreadystatechange = function () {
            if (this.readyState == 4) {
                var databaseContents = JSON.parse(this.responseText);
                var employeeString = "";
                employeeString +=
                    `
                        <div>
                        <p>Naam:  ${databaseContents.naam}</p>
                        <p>Adres: ${databaseContents.adres}</p>
                        <p>Woonplaats: ${databaseContents.woonplaats}</p>
                        <p>Postcode: ${databaseContents.postcode}</p>
                        <p>Geboorte datum: ${databaseContents.geboorteDatum}</p>
                        <p>Telefoon nummer: ${databaseContents.telefoonNummer}</p>
                        <p>Email: ${databaseContents.emailadres}</p>
                        <hr>
                        </div>
                        `
                var maandoverzicht = "";
                maandoverzicht += "<table>" +"<th>" + "Jaar" + "</th>" + "<th>" + "Maand" + "</th>" + "<th>" + "Totaal gewerkte uren" + "</th>" + "<th>" + "id" + "</th>"
                for (var x = 0; x <databaseContents.urenFormulier.length; x++) {
                    maandoverzicht += "<tr>"
                        + "<td>"+ `${databaseContents.urenFormulier[x].jaar}`+"</td>"
                        + "<td>"+ `${databaseContents.urenFormulier[x].maand}`+"</td>"
                        + "<td>"+ `${databaseContents.urenFormulier[x].totaalGewerkteUren}`+"</td>"
                        + "<td>"+ `${databaseContents.urenFormulier[x].id}`+"</td>"

                maandoverzicht += "</tr>";
                }
                maandoverzicht += "</table>"

                document.getElementById("gettingemployee").innerHTML = employeeString+maandoverzicht;
            }
        }
        jojo.open("GET", "http://localhost:8082/api/gebruiker/" + id, true);
        console.log("aliens!")
        jojo.send();
    }

    function getWerkDagenByGebruiker() {
        var jojo = new XMLHttpRequest();
        var id = document.getElementById("empID").value;
        var mnd = document.getElementById("uf-index").value;
        var daglijst = "";
        jojo.onreadystatechange = function () {
            if (this.readyState == 4) {
                var databaseContents = JSON.parse(this.responseText);
                daglijst += `${databaseContents.urenFormulier[mnd].maand}` +" "+ `${databaseContents.urenFormulier[mnd].jaar}`
                    +"<table>" +"<th>" + "id" + "</th>" + "<th>" + "dag" + "</th>" + "<th>" + "Totaal gewerkte uren" + "</th>"
                for (var x = 0; x <databaseContents.urenFormulier[mnd].werkdag.length; x++) {
                    daglijst += "<tr>"
                        + "<td>"+ `${databaseContents.urenFormulier[mnd].werkdag[x].id}`+"</td>"
                        + "<td>"+ `${databaseContents.urenFormulier[mnd].werkdag[x].datumDag}`+"</td>"
                        + "<td>"+ `${databaseContents.urenFormulier[mnd].werkdag[x].uren}`+"</td>"
                    daglijst += "</tr>";
                }
                daglijst += "</table>"

                document.getElementById("werkdagenlijst").innerHTML = daglijst;
            }
        }
        jojo.open("GET", "http://localhost:8082/api/gebruiker/" + id, true);
        console.log("aliens!")
        jojo.send();
    }

    function getUrenFormByID() {
        var request = new XMLHttpRequest();
        var id = document.getElementById("empID").value;
        var formID = document.getElementById("formID").value;
        request.onreadystatechange = function () {
            if (this.readyState == 4) {
                var databaseContents = JSON.parse(this.responseText);
                var employeeString = "";
                employeeString +=
                    `
                        <div>

                        </div>
                        `
                document.getElementById("gettingemployee").innerHTML = employeeString;
            }
        }
        request.open("PUT", "http://localhost:8082/api/gebruiker/" + id, true);
        console.log("aliens!")
        request.send();
    }



</script>
<!-- call up single medewerker -->

<body>
    <div class="container">
        <p><i><a href="https://www.qien.nl/">Qien > </a>
                <a href="inlogscherm.html"> Log in > </a>
                <a href="admin.html"> Admin overzicht</a> </i></p>
    </div>
    <section>
        <div class="container">
            <h1>MEDEWERKER X</h1>
            <input type=text id=empID placeholder="Employee ID">
            <input type="button" onclick=getEmployee() value="Get">
    </section>
    <section class="container">
        <div class="dashboard">
            <div id="gettingemployee"></div>
            <input type="text" id=empID placeholder="ID">
            <input type="text" id=maand placeholder="Maand">
            <input type=button value="Urenfomulier pakken"><br>
            <input type="text" id=reiskostMaand placeholder="Maand">
            <input type=button value="Reiskosten vergoeding"><br>
            <!-- <input type=button value="Vakantiedagen aanvrag checken"> -->
            <input type="button" value="Gegevens aanpassen" onclick="window.location.href='gegevensaanpassen.html';"
                value="Profiel van medewerker">
        </div>
    </section>
<section>
    <div class="container">
    <input type="text" id="uf-index" placeholder="urenformulierindex">
    <input type="button" onclick="getWerkDagenByGebruiker()" value="show">
    <div id="werkdagenlijst"></div></section>
</div>
</body>
<footer>
    <div class="container">
        <small>Â© 2020 Team1 - Het beste Team </small> <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
            title="Contact">Contact
            Qien</a>
    </div>
</footer>

</html>