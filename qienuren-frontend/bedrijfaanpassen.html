<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styling.css">
    <title>Bedrijf wijzigen</title>
</head>
<header class="main-header">
    <div class="header-section-1">
        <a ref="http://wwww.qien.nl">
            <img src="https://www.qien.nl/wp-content/uploads/2017/10/logo.svg" class="qien-logo" alt="Qien">
        </a>
        <nav class="main-nav-list">
            <!-- list of options or breadcrumbs -->
        </nav>
    </div>
    <div class="header-section-2">
    </div>
    <div class="header-section-3">
        <a href="inlogscherm.html">
            <img src="image/logout.png" class="log-uit" alt="loguit">
        </a>
    </div>
</header>
<script>

    function deleteBedrijf() {
        //make request to delete employee by ID
        var xhr = new XMLHttpRequest();
        var id = document.getElementById("bedrijfID").value;
        xhr.onreadystatechange = function () {
            console.log("Bedrijf verwijderd")
        }
        xhr.open("DELETE", "http://localhost:8082/api/bedrijf/delete/" + id, true);
        xhr.send();
        alert("Bedrijf met id " + id + " verwijdert");
    }

    function bedrijfAanpassen() {
        // change details - want to get ID automatically but don't know how to take persistent data from one page to another, will fix
        var xhr = new XMLHttpRequest();
        var id = document.getElementById("bedrijfID").value;
        var obj = {};
        obj.bedrijfsNaam = document.getElementById("bedrijfsNaam").value;
        obj.contactPersoon = document.getElementById("contactPersoon").value;
        obj.telefoonNummer = document.getElementById("telefoonNummer").value;
        obj.emailAdres = document.getElementById("emailAdres").value;
        obj.adres = document.getElementById("adres").value;
        obj.evtToevoeging = document.getElementById("evtToevoeging").value;
        obj.postcode = document.getElementById("postcode").value;
        obj.plaats = document.getElementById("plaats").value;
        objJSON = JSON.stringify(obj);
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4) {
                console.log("the details have been changed!")
            }
        }
        xhr.open("PUT", "http://localhost:8082/api/bedrijf/changedetails/" + id, true);
        xhr.setRequestHeader("Content-type", "application/json")
        xhr.send(objJSON);
        alert("Bedrijf met id " + id + " aangepast");
    }

</script>

<body>
    <div id="sidebar-left">
        <div class="left-container">
            <button onclick="window.location.href='bedrijfoverzicht.html'">Overzicht opdrachtgevers</button>
            <button onclick="window.location.href='bedrijfnieuw.html'">Nieuw opdrachtgever</button>
        </div>
    </div>

    <div id="main">
        <div class="container">
            <p><i><a href="https://www.qien.nl/">Qien</a>>
                    <a href="inlogscherm.html">Log in</a>>
                    <a href="admin.html">Admin overzicht</a>>
                    <a href="bedrijfoverzicht.html">Overzicht opdrachtgevers</a>>
                    Opdrachtgever aanpassen</i></p>
            <h1>Wijzigen opdrachtgever gegevens</h1>

            <div class="body-form">
                Bedrijf ID<br>
                <input type=text id=bedrijfID placeholder="temp"><br>
                Bedrijfsnaam<br>
                <input type=text id=bedrijfsNaam><br>
                Naam contact persoon<br>
                <input type="text" id=contactPersoon><br>
                Telefoonnummer<br>
                <input type="text" id=telefoonNummer><br>
                E-mailadres<br>
                <input type="text" id=emailAdres><br>
                Adres<br>
                <input type="text" id=adres><br>
                Evt. toevoeging<br>
                <input type="text" id=evtToevoeging><br>
                Postcode<br>
                <input type=text id=postcode><br>
                Plaats<br>
                <input type=text id=plaats><br>
                <input type="button" onclick=bedrijfAanpassen() value="Opslaan">
                <input type="button" onclick=deleteBedrijf() value="Bedrijf verwijderen"><br>

            </div>
        </div>
    </div>
</body>
<footer>
    <div class="container">
        <small>Â© 2020 Team1 - Het beste Team </small> <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
            title="Contact">Contact
            Qien</a>
    </div>
</footer>

</html>