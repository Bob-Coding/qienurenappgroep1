<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styling.css">
    <title>Medewerker Urenregistratie Formulier</title>
    <script>
        function alertFunction(){
            alert("It works!");
        }

        function werkdagOpslaan(){
            var obj = {};
            obj.datumDag = document.getElementById("datumDag").value;
            obj.uren = document.getElementById("uren").value;
            objJSON = JSON.stringify(obj);
            var xhr = new XMLHttpRequest();
            xhr.open("POST","http://localhost:8082/api/werkdag/new/",true);
            xhr.setRequestHeader("Content-Type","application/json");
            xhr.send(objJSON);
            alert("werkDag opgeslagen");
        }

        function werkDagenOverzicht(){
            var txt = "";
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if (this.readyState == 4 && this.status == 200){
                    var myObj = JSON.parse(this.responseText);
                    txt +="<table>"+"<th>"+"Datum"+"</th>"+ "<th>"+"Uren"+"</th>"
                    for (x in myObj){
                        txt +=  "<tr>"
                            + "<td>" + myObj[x].datumDag + "</td>"+ "<td>" + myObj[x].uren + "</td>"
                        txt +="</tr>";
                    }
                    txt +="</table>"
                    document.getElementById("werkdagen").innerHTML = txt;
                }
            };
            xhr.open("GET","http://localhost:8082/api/werkdagen", true);
            xhr.setRequestHeader("Content-Type","application/json");
            xhr.send();
        }
    </script>
</head>
<header class="main-header">
    <div class="header-section-1">
        <a ref="http://wwww.qien.nl">
            <img src="https://www.qien.nl/wp-content/uploads/2017/10/logo.svg" class="qien-logo" alt="Qien">
        </a>
        <nav class="main-nav-list">
            <!-- list of options or breadcrumbs -->
        </nav>
    </div>
    <div class="header-section-2">
    </div>
    <div class="header-section-3">
        <a href="inlogscherm.html">
            <img src="image/logout.png" class="log-uit" alt="loguit">
        </a>
    </div>
</header>
<body>
<div class="container">
    <p><i>Qien > log in > <a href="medewerker.html">medewerker overzicht</a> > Uren Registratie Formulier</i></p>
</div>
<div class="container">
    <input type="number" id="datumDag" min="1" max="31">
    <input type="number" id="uren" placeholder="uren" min="1" max="12">
    <input type=button onclick=werkdagOpslaan() value="opslaan">
</div>
<div class="container">
    <h2>Maand overzicht</h2>
    <p>
        <button onclick="werkDagenOverzicht()">Show</button>
    <div id="werkdagen"></div>
    </p>
</div>
<div class="container">
    <input type=button onclick=uurOpslaan() value="versturen">
    </div>
</body>
<footer>
    <div class="container">
        <small>Â© 2020 Team1 - Het beste Team </small>
    </div>
</footer>

</html>