<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styling.css">
    <title>Medewerker Urenregistratie Formulier</title>
    <script>
        function alertFunction(){
            alert("It works!");
        }

        function nieuwWerkDag(){
            var obj = {};
            obj.datumDag = document.getElementById("datumDag").value;
            obj.uren = document.getElementById("uren").value;
            objJSON = JSON.stringify(obj);
            var xhr = new XMLHttpRequest();
            xhr.open("POST","http://localhost:8082/api/werkdag/new/",true);
            xhr.setRequestHeader("Content-Type","application/json");
            xhr.send(objJSON);
            alert("werkDag opgeslagen");
        }

        function werkDagenOverzicht(){
            var txt = "";
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if (this.readyState == 4 && this.status == 200){
                    var myObj = JSON.parse(this.responseText);
                    txt +="<table>"+"<th>"+"Datum"+"</th>"+ "<th>"+"Uren"+"</th>"
                    for (x in myObj){
                        txt +=  "<tr>"
                            + "<td>" + myObj[x].datumDag + "</td>"+ "<td>" + myObj[x].uren + "</td>"
                        txt +="</tr>";
                    }
                    txt +="</table>"
                    document.getElementById("werkdagen").innerHTML = txt;
                }
            };
            xhr.open("GET","http://localhost:8082/api/werkdagen", true);
            xhr.setRequestHeader("Content-Type","application/json");
            xhr.send();
        }

        function nieuwUrenFormulier(){
            var obj = {};
            obj.jaar = document.getElementById("jaar-formulier").value;
            obj.MAAND = document.getElementById("maand-formulier").value;
            objJSON = JSON.stringify(obj);
            var xhr = new XMLHttpRequest();
            xhr.open("POST","http://localhost:8082/urenformulier/new/",true);
            xhr.setRequestHeader("Content-Type","application/json");
            xhr.send(objJSON);
            alert("Nieuw uren formulier aangemaakt");
        }

        function updateWorkDaytoUrenFormulier(){
            var obj = {};
            obj.ufid = document.getElementById("ufid").value;
            obj.wdid = document.getElementById("wdid").value;
            objJSON = JSON.stringify(obj);
            var xhr = new XMLHttpRequest();
            xhr.open("PUT","http://localhost:8082/urenformulier/"+obj.ufid+"/"+obj.wdid,true);
            xhr.setRequestHeader("Content-Type","application/json");
            xhr.send(objJSON);
            alert("werkdag verbonden met urenformulier!");
        }
    </script>
</head>
<header class="main-header">
    <div class="header-section-1">
        <a ref="http://wwww.qien.nl">
            <img src="https://www.qien.nl/wp-content/uploads/2017/10/logo.svg" class="qien-logo" alt="Qien">
        </a>
        <nav class="main-nav-list">
            <!-- list of options or breadcrumbs -->
        </nav>
    </div>
    <div class="header-section-2">
    </div>
    <div class="header-section-3">
        <a href="inlogscherm.html">
            <img src="image/logout.png" class="log-uit" alt="loguit">
        </a>
    </div>
</header>
<body>
<section>
<div class="container">
    <p><i>Qien > log in > <a href="medewerker.html">medewerker overzicht</a> > Uren Registratie Formulier</i></p>
</div>
</section>
<section>
<div class="container">
    <h2>Huidige maand: Augustus</h2>
</div>
    </section>
    <section class="container">
<div class="dashboard">
    <div class="container">
    <select name="maand-formulier" id="maand-formulier">
        <option value="augustus">augustus</option>
        <option value="september">september</option>
        <option value="oktober">oktober</option>
    </select>
    <select name="jaar-formulier" id="jaar-formulier">
        <option value="2020">2020</option>
        <option value="2019">2019</option>
        <option value="2018">2018</option>
    </select>
    <input type=button onclick=nieuwUrenFormulier() value="Nieuw Uren Formulier">
</div>
<div class="container">
    <input type="number" id="datumDag" placeholder="dag" min="1" max="31">
    <input type="number" id="uren" placeholder="uren" min="1" max="12">
    <input type=button onclick=nieuwWerkDag() value="Nieuwe Werk Dag">
</div>
<div class="container">
    <input type="text" id="ufid" placeholder="formulierid">
    <input type="text" id="wdid" placeholder="workdayid">
    <input type=button onclick=updateWorkDaytoUrenFormulier() value="versturen">
</div>
<div class="container">
    <h2>Maandoverzicht</h2>
    <p>
        <button onclick="werkDagenOverzicht()">Show</button>
    <div id="werkdagen"></div>
    </p>

</div>
</div>
</section>
</body>
<footer>
    <div class="container">
        <small>Â© 2020 Team1 - Het beste Team </small>
    </div>
</footer>

</html>